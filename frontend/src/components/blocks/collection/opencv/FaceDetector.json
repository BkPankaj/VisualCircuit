{"editor":{"id":"bc317c93-6133-4335-a5d6-3bbf3dc99313","locked":false,"offsetX":64.34024579249932,"offsetY":-96.41958266892831,"zoom":103.80000000000001,"gridSize":0,"layers":[{"id":"4b16cb39-38c1-48ec-8587-4bdcf57783a3","type":"diagram-links","isSvg":true,"transformed":true,"models":{"e9dd0987-e9f8-49bf-82a4-4249ccf332bc":{"id":"e9dd0987-e9f8-49bf-82a4-4249ccf332bc","type":"default","selected":false,"source":"6971a098-bc65-4088-aedc-1bf3165b4490","sourcePort":"4ccffd74-cf43-4d39-a580-3689c88e9f15","target":"9e5a58ca-a661-476f-8154-01254667fc45","targetPort":"877b3373-2996-4fd5-a934-162c4ff9fdd7","points":[{"id":"99d6b8de-3531-4469-b399-6eb6d6f16c1d","type":"point","x":200.04150672490354,"y":496.9199630030356},{"id":"14f97b6b-9eb5-45a3-9756-fbd7a3728b20","type":"point","x":298.40846421198506,"y":515.961177452354}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"793afb47-7756-4392-a9b7-ced07332d0db":{"id":"793afb47-7756-4392-a9b7-ced07332d0db","type":"default","selected":false,"source":"d54a0280-ac15-4345-8248-786aca217945","sourcePort":"9e82f442-4676-4935-bf69-0ff832cb0153","target":"9e5a58ca-a661-476f-8154-01254667fc45","targetPort":"19981de5-c6ab-4603-bd2e-fa4ffb5b0c93","points":[{"id":"0c50ff93-3cec-4348-adc6-d4c52186d6ab","type":"point","x":197.44544748604898,"y":712.4234398039121},{"id":"5a186f09-641b-4b91-992d-777ab17d0b97","type":"point","x":298.40846421198506,"y":697.6239258971093}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"6b99f993-a78f-4b55-b4a2-d5ff43892ce2":{"id":"6b99f993-a78f-4b55-b4a2-d5ff43892ce2","type":"default","selected":false,"source":"9e5a58ca-a661-476f-8154-01254667fc45","sourcePort":"48fb0550-02fa-4e54-a541-83e5343ca343","target":"09e9de1a-0a8a-4922-8dfd-fe6846d9851d","targetPort":"523dd83c-8d72-4fa7-ae84-d24f77d454ff","points":[{"id":"ae8f850c-04be-4321-80a0-e5b104d6bfc0","type":"point","x":1149.0571552813906,"y":606.8023898149675},{"id":"a3f0bf65-a60d-452c-a87a-2590d94f7793","type":"point","x":1280.4642632283985,"y":598.1545520861432}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"5e9e144f-8b9e-4ca4-84fa-49567dc6c753":{"id":"5e9e144f-8b9e-4ca4-84fa-49567dc6c753","type":"default","selected":false,"source":"0007-ee52900a-61f2-4070-bbef-7fe044b38256","sourcePort":"becabb29-4ca3-43b8-a712-d7f353ee7fe7","target":"9e5a58ca-a661-476f-8154-01254667fc45","targetPort":"6a9fa897-2582-483f-b524-fb49d99ee707","points":[{"id":"e13b569c-db92-4a7c-ae13-463f75474747","type":"point","x":518.8918825085997,"y":218.0021615999091},{"id":"fe846fb6-0302-4066-a9ea-b7cc7db2001d","type":"point","x":568.8291144782366,"y":334.2984200106713}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"66958e5c-f81d-4bb2-8763-2183c4461a75":{"id":"66958e5c-f81d-4bb2-8763-2183c4461a75","type":"default","selected":false,"source":"0008-fbb3c954-86c5-4409-8ee4-426e42ccabb0","sourcePort":"47e5dcaf-62b8-4353-9abf-d0b6bc1867b4","target":"9e5a58ca-a661-476f-8154-01254667fc45","targetPort":"61dfefa6-03f4-4640-8e25-c99eaf014e40","points":[{"id":"ddcc5ede-f8d1-429f-a96b-6d5099a224ba","type":"point","x":924.1102237259346,"y":212.46266256330026},{"id":"3e377e74-cd1f-4a39-b0bb-14494c998ed0","type":"point","x":874.1749736459477,"y":334.2984200106713}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"baee61b2-d2b1-44d0-8041-0346c7f4e411","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"d54a0280-ac15-4345-8248-786aca217945":{"id":"d54a0280-ac15-4345-8248-786aca217945","type":"basic.input","selected":false,"x":103.95592199143805,"y":685.9144601236719,"ports":[{"id":"9e82f442-4676-4935-bf69-0ff832cb0153","type":"port.output","x":189.94740809649267,"y":704.9254094112832,"name":"input-out","alignment":"right","parentNode":"d54a0280-ac15-4345-8248-786aca217945","links":["793afb47-7756-4392-a9b7-ced07332d0db"],"in":false,"label":"Enable","hideLabel":true}],"data":{"name":"Enable"}},"6971a098-bc65-4088-aedc-1bf3165b4490":{"id":"6971a098-bc65-4088-aedc-1bf3165b4490","type":"basic.input","selected":false,"x":106.54629776438875,"y":470.4217536071029,"ports":[{"id":"4ccffd74-cf43-4d39-a580-3689c88e9f15","type":"port.output","x":192.54311286680428,"y":489.42156914493637,"name":"input-out","alignment":"right","parentNode":"6971a098-bc65-4088-aedc-1bf3165b4490","links":["e9dd0987-e9f8-49bf-82a4-4249ccf332bc"],"in":false,"label":"Img","hideLabel":true}],"data":{"name":"Img"}},"09e9de1a-0a8a-4922-8dfd-fe6846d9851d":{"id":"09e9de1a-0a8a-4922-8dfd-fe6846d9851d","type":"basic.output","selected":false,"x":1271.9736007610584,"y":571.6564927857931,"ports":[{"id":"523dd83c-8d72-4fa7-ae84-d24f77d454ff","type":"port.input","x":1272.9662328357697,"y":590.6565126965869,"name":"output-in","alignment":"left","parentNode":"09e9de1a-0a8a-4922-8dfd-fe6846d9851d","links":["6b99f993-a78f-4b55-b4a2-d5ff43892ce2"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}},"0007-ee52900a-61f2-4070-bbef-7fe044b38256":{"id":"0007-ee52900a-61f2-4070-bbef-7fe044b38256","type":"basic.constant","selected":false,"x":457.9082276383123,"y":102.50726094778626,"ports":[{"id":"becabb29-4ca3-43b8-a712-d7f353ee7fe7","type":"port.output","x":511.3934886505004,"y":210.50376774180984,"name":"constant-out","alignment":"bottom","parentNode":"0007-ee52900a-61f2-4070-bbef-7fe044b38256","links":["5e9e144f-8b9e-4ca4-84fa-49567dc6c753"],"in":false,"label":"Frequency","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"0008-fbb3c954-86c5-4409-8ee4-426e42ccabb0":{"id":"0008-fbb3c954-86c5-4409-8ee4-426e42ccabb0","type":"basic.constant","selected":false,"x":863.1101579032745,"y":96.96118222618964,"ports":[{"id":"47e5dcaf-62b8-4353-9abf-d0b6bc1867b4","type":"port.output","x":916.6118298678354,"y":204.964268705201,"name":"constant-out","alignment":"bottom","parentNode":"0008-fbb3c954-86c5-4409-8ee4-426e42ccabb0","links":["66958e5c-f81d-4bb2-8763-2183c4461a75"],"in":false,"label":"BoxOrImage","hideLabel":true}],"data":{"name":"BoxOrImage","value":"image","local":true}},"9e5a58ca-a661-476f-8154-01254667fc45":{"id":"9e5a58ca-a661-476f-8154-01254667fc45","type":"basic.code","selected":false,"x":289.91596638655454,"y":256.3025210084033,"ports":[{"id":"877b3373-2996-4fd5-a934-162c4ff9fdd7","type":"port.input","x":290.91042482242875,"y":508.4631380627977,"name":"Img","alignment":"left","parentNode":"9e5a58ca-a661-476f-8154-01254667fc45","links":["e9dd0987-e9f8-49bf-82a4-4249ccf332bc"],"in":true,"label":"Img","hideLabel":false},{"id":"19981de5-c6ab-4603-bd2e-fa4ffb5b0c93","type":"port.input","x":290.91042482242875,"y":690.1258955044805,"name":"Enable","alignment":"left","parentNode":"9e5a58ca-a661-476f-8154-01254667fc45","links":["793afb47-7756-4392-a9b7-ced07332d0db"],"in":true,"label":"Enable","hideLabel":false},{"id":"48fb0550-02fa-4e54-a541-83e5343ca343","type":"port.output","x":1141.5591248887617,"y":599.3043594223386,"name":"Out","alignment":"right","parentNode":"9e5a58ca-a661-476f-8154-01254667fc45","links":["6b99f993-a78f-4b55-b4a2-d5ff43892ce2"],"in":false,"label":"Out","hideLabel":false},{"id":"6a9fa897-2582-483f-b524-fb49d99ee707","type":"port.parameter","x":561.3310750886803,"y":326.800380621115,"name":"Frequency","alignment":"top","parentNode":"9e5a58ca-a661-476f-8154-01254667fc45","links":["5e9e144f-8b9e-4ca4-84fa-49567dc6c753"],"in":true,"label":"Frequency","hideLabel":false},{"id":"61dfefa6-03f4-4640-8e25-c99eaf014e40","type":"port.parameter","x":866.6769342563914,"y":326.800380621115,"name":"BoxOrImage","alignment":"top","parentNode":"9e5a58ca-a661-476f-8154-01254667fc45","links":["66958e5c-f81d-4bb2-8763-2183c4461a75"],"in":true,"label":"BoxOrImage","hideLabel":false}],"data":{"code":"import cv2\nimport numpy as np\n\ndef main(inputs, outputs, parameters, synchronise):\n    choice = parameters.read_string(\"BoxOrImage\")\n    \n    auto_enable = False\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n\n    classifier = cv2.CascadeClassifier('utils/models/haar_cascade/haarcascade_frontalface_default.xml')\n\n    if choice == 'image':\n\n        while(auto_enable or inputs.read_number('Enable')):\n            img = inputs.read_image(\"Img\")\n            if img is None:\n                continue\n            bboxes = classifier.detectMultiScale(img)\n\n            for box in bboxes:\n                x, y, x1, y1 = box\n                x1, y1 = x+x1, y+y1\n                cv2.rectangle(img, (x, y), (x1, y1), (0,255,0), 2)\n            outputs.share_image('Out', img)\n            synchronise()\n                \n    else:\n        while(auto_enable or inputs.read_number('Enable')):        \n            img = inputs.read_image(\"Img\")\n            if img is None:\n                continue\n            bboxes = classifier.detectMultiScale(img)\n            \n            to_write = [320, 240, 0, 0]\n            for box in bboxes:\n                to_write = [box[0], box[1], box[2], box[3]]\n                break\n            outputs.share_array(to_write)\n            synchronise()\n\n\n        ","frequency":"30","params":[{"name":"Frequency"},{"name":"BoxOrImage"}],"ports":{"in":[{"name":"Img"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"911px","height":"19px"}}}}}]},"version":"3.0","package":{"name":"FaceDetector","version":"2.0.0","description":"Detects Faces in an Image","author":"Toshan Luktuke, Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNCAyNCIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBpZD0iY29sb3JfMV8iPjxwYXRoIGQ9Im0xMiAxM2MyLjc1NyAwIDUtMi4yNDMgNS01cy0yLjI0My01LTUtNS01IDIuMjQzLTUgNSAyLjI0MyA1IDUgNXoiIGZpbGw9IiM2MDdkOGIiLz48cGF0aCBkPSJtMTYuNSAxNWgtOWMtMi42MTkgMC00Ljc1IDIuMTMxLTQuNzUgNC43NXYzLjVjMCAuNDE0LjMzNi43NS43NS43NWgxN2MuNDE0IDAgLjc1LS4zMzYuNzUtLjc1di0zLjVjMC0yLjYxOS0yLjEzMS00Ljc1LTQuNzUtNC43NXoiIGZpbGw9IiM2MDdkOGIiLz48cGF0aCBkPSJtMTIgM2MtMi43NTcgMC01IDIuMjQzLTUgNXMyLjI0MyA1IDUgNXoiIGZpbGw9IiM1NDZkNzkiLz48cGF0aCBkPSJtMTIgMTVoLTQuNWMtMi42MTkgMC00Ljc1IDIuMTMxLTQuNzUgNC43NXYzLjVjMCAuNDE0LjMzNi43NS43NS43NWg4LjV6IiBmaWxsPSIjNTQ2ZDc5Ii8+PHBhdGggZD0ibTMgNS43NWMtLjU1MiAwLTEtLjQ0Ny0xLTF2LTEuNzVjMC0xLjY1NCAxLjM0Ni0zIDMtM2gxLjVjLjU1MiAwIDEgLjQ0NyAxIDFzLS40NDggMS0xIDFoLTEuNWMtLjU1MSAwLTEgLjQ0OC0xIDF2MS43NWMwIC41NTMtLjQ0OCAxLTEgMXoiIGZpbGw9IiMwMGJjZDQiLz48cGF0aCBkPSJtNi41IDE0aC0xLjVjLTEuNjU0IDAtMy0xLjM0Ni0zLTN2LTEuNzVjMC0uNTUzLjQ0OC0xIDEtMXMxIC40NDcgMSAxdjEuNzVjMCAuNTUyLjQ0OSAxIDEgMWgxLjVjLjU1MiAwIDEgLjQ0NyAxIDFzLS40NDggMS0xIDF6IiBmaWxsPSIjMDBiY2Q0Ii8+PHBhdGggZD0ibTQuNzUuMDFjLTEuNTM4LjEyOC0yLjc1IDEuNDItMi43NSAyLjk5djEuNzVjMCAuNTUzLjQ0OCAxIDEgMXMxLS40NDcgMS0xdi0xLjc1YzAtLjQ2NS4zMTktLjg1Ny43NS0uOTY4eiIgZmlsbD0iIzAwYTRiOSIvPjxwYXRoIGQ9Im0zIDguMjVjLS41NTIgMC0xIC40NDctMSAxdjEuNzVjMCAxLjU3IDEuMjEyIDIuODYyIDIuNzUgMi45OXYtMi4wMjFjLS40MzEtLjExMi0uNzUtLjUwNC0uNzUtLjk2OXYtMS43NWMwLS41NTMtLjQ0OC0xLTEtMXoiIGZpbGw9IiMwMGE0YjkiLz48cGF0aCBkPSJtMjEgNS43NWMtLjU1MiAwLTEtLjQ0Ny0xLTF2LTEuNzVjMC0uNTUyLS40NDktMS0xLTFoLTEuNWMtLjU1MiAwLTEtLjQ0Ny0xLTFzLjQ0OC0xIDEtMWgxLjVjMS42NTQgMCAzIDEuMzQ2IDMgM3YxLjc1YzAgLjU1My0uNDQ4IDEtMSAxeiIgZmlsbD0iIzAwYmNkNCIvPjxwYXRoIGQ9Im0xOSAxNGgtMS41Yy0uNTUyIDAtMS0uNDQ3LTEtMXMuNDQ4LTEgMS0xaDEuNWMuNTUxIDAgMS0uNDQ4IDEtMXYtMS43NWMwLS41NTMuNDQ4LTEgMS0xczEgLjQ0NyAxIDF2MS43NWMwIDEuNjU0LTEuMzQ2IDMtMyAzeiIgZmlsbD0iIzAwYmNkNCIvPjxnIGZpbGw9IiMwMGE0YjkiPjxwYXRoIGQ9Im0xOSAwaC0xLjVjLS41NTIgMC0xIC40NDctMSAxcy40NDggMSAxIDFoMS41Yy4wODYgMCAuMTcuMDExLjI1LjAzMnYtMi4wMjJjLS4wODItLjAwNy0uMTY2LS4wMS0uMjUtLjAxeiIvPjxwYXRoIGQ9Im0xOS4yNSAxMS45NjhjLS4wOC4wMjEtLjE2NC4wMzItLjI1LjAzMmgtMS41Yy0uNTUyIDAtMSAuNDQ3LTEgMXMuNDQ4IDEgMSAxaDEuNWMuMDg0IDAgLjE2OC0uMDAzLjI1LS4wMXoiLz48L2c+PC9nPjwvc3ZnPg=="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"d54a0280-ac15-4345-8248-786aca217945","type":"basic.input","data":{"name":"Enable"},"position":{"x":103.95592199143805,"y":685.9144601236719}},{"id":"6971a098-bc65-4088-aedc-1bf3165b4490","type":"basic.input","data":{"name":"Img"},"position":{"x":106.54629776438875,"y":470.4217536071029}},{"id":"09e9de1a-0a8a-4922-8dfd-fe6846d9851d","type":"basic.output","data":{"name":"Out"},"position":{"x":1271.9736007610584,"y":571.6564927857931}},{"id":"0007-ee52900a-61f2-4070-bbef-7fe044b38256","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":457.9082276383123,"y":102.50726094778626}},{"id":"0008-fbb3c954-86c5-4409-8ee4-426e42ccabb0","type":"basic.constant","data":{"name":"BoxOrImage","value":"image","local":true},"position":{"x":863.1101579032745,"y":96.96118222618964}},{"id":"9e5a58ca-a661-476f-8154-01254667fc45","type":"basic.code","data":{"code":"import cv2\nimport numpy as np\n\ndef main(inputs, outputs, parameters, synchronise):\n    choice = parameters.read_string(\"BoxOrImage\")\n    \n    auto_enable = False\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n\n    classifier = cv2.CascadeClassifier('utils/models/haar_cascade/haarcascade_frontalface_default.xml')\n\n    if choice == 'image':\n\n        while(auto_enable or inputs.read_number('Enable')):\n            img = inputs.read_image(\"Img\")\n            if img is None:\n                continue\n            bboxes = classifier.detectMultiScale(img)\n\n            for box in bboxes:\n                x, y, x1, y1 = box\n                x1, y1 = x+x1, y+y1\n                cv2.rectangle(img, (x, y), (x1, y1), (0,255,0), 2)\n            outputs.share_image('Out', img)\n            synchronise()\n                \n    else:\n        while(auto_enable or inputs.read_number('Enable')):        \n            img = inputs.read_image(\"Img\")\n            if img is None:\n                continue\n            bboxes = classifier.detectMultiScale(img)\n            \n            to_write = [320, 240, 0, 0]\n            for box in bboxes:\n                to_write = [box[0], box[1], box[2], box[3]]\n                break\n            outputs.share_array(\"Out\", to_write)\n            synchronise()\n\n\n        ","frequency":"30","params":[{"name":"Frequency"},{"name":"BoxOrImage"}],"ports":{"in":[{"name":"Img"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"911px","height":"19px"}},"position":{"x":289.91596638655454,"y":256.3025210084033}}],"wires":[{"source":{"block":"6971a098-bc65-4088-aedc-1bf3165b4490","port":"input-out","name":"Img"},"target":{"block":"9e5a58ca-a661-476f-8154-01254667fc45","port":"Img","name":"Img"}},{"source":{"block":"d54a0280-ac15-4345-8248-786aca217945","port":"input-out","name":"Enable"},"target":{"block":"9e5a58ca-a661-476f-8154-01254667fc45","port":"Enable","name":"Enable"}},{"source":{"block":"9e5a58ca-a661-476f-8154-01254667fc45","port":"Out","name":"Out"},"target":{"block":"09e9de1a-0a8a-4922-8dfd-fe6846d9851d","port":"output-in","name":"output-in"}},{"source":{"block":"0007-ee52900a-61f2-4070-bbef-7fe044b38256","port":"constant-out","name":"Frequency"},"target":{"block":"9e5a58ca-a661-476f-8154-01254667fc45","port":"Frequency","name":"Frequency"}},{"source":{"block":"0008-fbb3c954-86c5-4409-8ee4-426e42ccabb0","port":"constant-out","name":"BoxOrImage"},"target":{"block":"9e5a58ca-a661-476f-8154-01254667fc45","port":"BoxOrImage","name":"BoxOrImage"}}]}},"dependencies":{}}