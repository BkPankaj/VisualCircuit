{"editor":{"id":"684f5333-1483-4f65-a01e-7490afdd4fba","locked":false,"offsetX":-190.62359181314477,"offsetY":-53.52121041456613,"zoom":119.00000000000006,"gridSize":0,"layers":[{"id":"2a8c879c-754d-41d2-b01c-2b9a6c22f5bb","type":"diagram-links","isSvg":true,"transformed":true,"models":{"61476254-5f9e-438e-a1b7-4301cdec4ba0":{"id":"61476254-5f9e-438e-a1b7-4301cdec4ba0","type":"default","selected":false,"source":"b260dece-d4ba-4f59-81a1-8b9b7d793e14","sourcePort":"58a3c521-4dae-4687-b029-7c0bd1862a8b","target":"4b062f7d-1648-480b-9b4f-011952caee14","targetPort":"b0c05ee3-825a-439f-bffb-54b233164f95","points":[{"id":"30e1b5f4-6f6e-4aa4-b793-70910ccb639d","type":"point","x":454.004428293773,"y":411.3693499618529},{"id":"c8ca5289-9160-4d27-8298-0f1f4845b588","type":"point","x":523.6402587001542,"y":419.54862508987276}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"a2c23426-0314-412d-b3ea-efbde0859a3c":{"id":"a2c23426-0314-412d-b3ea-efbde0859a3c","type":"default","selected":false,"source":"cbbaab3d-2b9e-4801-8c14-c2aec24f16d1","sourcePort":"77349c9e-138b-47b6-b6cf-56c25251be86","target":"4b062f7d-1648-480b-9b4f-011952caee14","targetPort":"557a45e4-0253-4435-abb2-5a13e765d5e9","points":[{"id":"1078e34e-3296-4a27-977c-f0a4e7ab5c92","type":"point","x":456.5394324687828,"y":579.436576852609},{"id":"e28275e6-faf3-4c79-8b16-a70576f78c89","type":"point","x":523.6402587001542,"y":574.5486353478823}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"f81acefa-11c4-42cd-a24d-805594935517":{"id":"f81acefa-11c4-42cd-a24d-805594935517","type":"default","selected":false,"source":"4b062f7d-1648-480b-9b4f-011952caee14","sourcePort":"2be03bab-7fd9-4c26-9863-76090e4e9bfd","target":"3b0f9235-5a06-4673-b6ea-d56e9435ce55","targetPort":"574282ef-479f-43de-9014-fe9c52e0e288","points":[{"id":"75231b47-4a94-46c4-8e89-cde607545ec4","type":"point","x":1267.2816776700856,"y":497.0556248990738},{"id":"711aace6-b0ec-43d0-b43a-a58367a5fe1a","type":"point","x":1374.046424584476,"y":478.5962407181554}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"b71fd9e5-7bdd-4cb4-be49-69d77e6923bf":{"id":"b71fd9e5-7bdd-4cb4-be49-69d77e6923bf","type":"default","selected":false,"source":"0006-cd024c06-9f9e-4b8b-ac40-4f9dc2512fe6","sourcePort":"a0a8adda-69ff-4c6f-b152-1fa18bde5a90","target":"4b062f7d-1648-480b-9b4f-011952caee14","targetPort":"7fabe4bd-0f75-4713-81c8-bf2bb4e26d7c","points":[{"id":"2aebb626-aad2-46ba-8258-106b3c1a1944","type":"point","x":1043.3461448998487,"y":141.5514398876671},{"id":"30993da9-8d20-4963-8993-256a2f0ced8b","type":"point","x":1029.9847862572706,"y":264.5486340656312}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"610510f2-96c1-4581-8137-5edc7aa7583d":{"id":"610510f2-96c1-4581-8137-5edc7aa7583d","type":"default","selected":false,"source":"0005-3404904d-c56d-4760-9f40-b2177b60caf5","sourcePort":"2b21c80f-0ddd-4e44-9f3a-9327398c329c","target":"4b062f7d-1648-480b-9b4f-011952caee14","targetPort":"24a2282a-5cde-4698-89d2-f1fa6254945c","points":[{"id":"42760fad-2a10-4aae-939f-63050950094c","type":"point","x":752.6038445617448,"y":148.26012036913704},{"id":"50123a71-77a9-4c05-9e28-94b78c68e6d1","type":"point","x":762.1977056046971,"y":264.5486340656312}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"fda112f3-998a-4b47-b67a-523cfd2e4e02","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"b260dece-d4ba-4f59-81a1-8b9b7d793e14":{"id":"b260dece-d4ba-4f59-81a1-8b9b7d793e14","type":"basic.input","selected":false,"x":360.50420168067217,"y":384.8739495798318,"ports":[{"id":"58a3c521-4dae-4687-b029-7c0bd1862a8b","type":"port.output","x":446.5044257292706,"y":403.8693473973505,"name":"input-out","alignment":"right","parentNode":"b260dece-d4ba-4f59-81a1-8b9b7d793e14","links":["61476254-5f9e-438e-a1b7-4301cdec4ba0"],"in":false,"label":"Inp","hideLabel":true}],"data":{"name":"Inp"}},"cbbaab3d-2b9e-4801-8c14-c2aec24f16d1":{"id":"cbbaab3d-2b9e-4801-8c14-c2aec24f16d1","type":"basic.input","selected":false,"x":363.02521008403346,"y":552.9411764705881,"ports":[{"id":"77349c9e-138b-47b6-b6cf-56c25251be86","type":"port.output","x":449.03943631553636,"y":571.9365742881067,"name":"input-out","alignment":"right","parentNode":"cbbaab3d-2b9e-4801-8c14-c2aec24f16d1","links":["a2c23426-0314-412d-b3ea-efbde0859a3c"],"in":false,"label":"Enable","hideLabel":true}],"data":{"name":"Enable"}},"0005-3404904d-c56d-4760-9f40-b2177b60caf5":{"id":"0005-3404904d-c56d-4760-9f40-b2177b60caf5","type":"basic.constant","selected":false,"x":691.5966386554619,"y":32.77310924369751,"ports":[{"id":"2b21c80f-0ddd-4e44-9f3a-9327398c329c","type":"port.output","x":745.1038484084984,"y":140.76012421589058,"name":"constant-out","alignment":"bottom","parentNode":"0005-3404904d-c56d-4760-9f40-b2177b60caf5","links":["610510f2-96c1-4581-8137-5edc7aa7583d"],"in":false,"label":"Frequency","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"0006-cd024c06-9f9e-4b8b-ac40-4f9dc2512fe6":{"id":"0006-cd024c06-9f9e-4b8b-ac40-4f9dc2512fe6","type":"basic.constant","selected":false,"x":982.35294117647,"y":26.050420168067266,"ports":[{"id":"a0a8adda-69ff-4c6f-b152-1fa18bde5a90","type":"port.output","x":1035.8461487466022,"y":134.05143732316475,"name":"constant-out","alignment":"bottom","parentNode":"0006-cd024c06-9f9e-4b8b-ac40-4f9dc2512fe6","links":["b71fd9e5-7bdd-4cb4-be49-69d77e6923bf"],"in":false,"label":"ROSTopic","hideLabel":true}],"data":{"name":"ROSTopic","value":"/robot/cmd_vel","local":true}},"3b0f9235-5a06-4673-b6ea-d56e9435ce55":{"id":"3b0f9235-5a06-4673-b6ea-d56e9435ce55","type":"basic.output","selected":false,"x":1365.5462184873943,"y":452.10084033613424,"ports":[{"id":"574282ef-479f-43de-9014-fe9c52e0e288","type":"port.input","x":1366.5464220199738,"y":471.096238153653,"name":"output-in","alignment":"left","parentNode":"3b0f9235-5a06-4673-b6ea-d56e9435ce55","links":["f81acefa-11c4-42cd-a24d-805594935517"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}},"4b062f7d-1648-480b-9b4f-011952caee14":{"id":"4b062f7d-1648-480b-9b4f-011952caee14","type":"basic.code","selected":false,"x":515.1260504201678,"y":186.55462184873946,"ports":[{"id":"b0c05ee3-825a-439f-bffb-54b233164f95","type":"port.input","x":516.1402561356518,"y":412.04862252537043,"name":"Inp","alignment":"left","parentNode":"4b062f7d-1648-480b-9b4f-011952caee14","links":["61476254-5f9e-438e-a1b7-4301cdec4ba0"],"in":true,"label":"Inp","hideLabel":false},{"id":"557a45e4-0253-4435-abb2-5a13e765d5e9","type":"port.input","x":516.1402561356518,"y":567.0486327833798,"name":"Enable","alignment":"left","parentNode":"4b062f7d-1648-480b-9b4f-011952caee14","links":["a2c23426-0314-412d-b3ea-efbde0859a3c"],"in":true,"label":"Enable","hideLabel":false},{"id":"2be03bab-7fd9-4c26-9863-76090e4e9bfd","type":"port.output","x":1259.7816751055832,"y":489.55562874582733,"name":"Out","alignment":"right","parentNode":"4b062f7d-1648-480b-9b4f-011952caee14","links":["f81acefa-11c4-42cd-a24d-805594935517"],"in":false,"label":"Out","hideLabel":false},{"id":"24a2282a-5cde-4698-89d2-f1fa6254945c","type":"port.parameter","x":754.6977030401948,"y":257.0486379123847,"name":"Frequency","alignment":"top","parentNode":"4b062f7d-1648-480b-9b4f-011952caee14","links":["610510f2-96c1-4581-8137-5edc7aa7583d"],"in":true,"label":"Frequency","hideLabel":false},{"id":"7fabe4bd-0f75-4713-81c8-bf2bb4e26d7c","type":"port.parameter","x":1022.4847836927681,"y":257.0486379123847,"name":"ROSTopic","alignment":"top","parentNode":"4b062f7d-1648-480b-9b4f-011952caee14","links":["b71fd9e5-7bdd-4cb4-be49-69d77e6923bf"],"in":true,"label":"ROSTopic","hideLabel":false}],"data":{"code":"import rospy\nimport numpy as np\nfrom time import sleep\nfrom geometry_msgs.msg import Twist\n\nlinear_velocity, angular_velocity = 0.0, 0.0\n\ndef callback(inp):\n    global linear_velocity, angular_velocity\n    \n\ndef main(inputs, outputs, parameters, synchronise):\n\n    rospy.init_node(\"motordriverVC\", anonymous=True)\n\n    rostopic_name = parameters.read_string(\"ROSTopic\")\n    # Create a Publisher that publishes to the given ROSTopic\n    publisher = rospy.Publisher(rostopic_name, Twist, queue_size=10)\n    \n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n        \n    # Create a Twist message\n    data = Twist()\n\n    while(auto_enable or inputs.read_number('Enable') and not rospy.is_shutdown()):\n        msg = inputs.read_array(\"Inp\")\n\n        if msg is None:\n            continue\n\n        linear_velocity = float(msg[0])\n        angular_velocity = float(msg[1])\n\n        data.linear.x = linear_velocity\n        data.angular.z = angular_velocity\n        publisher.publish(data)\n\n        synchronise()","frequency":"30","params":[{"name":"Frequency"},{"name":"ROSTopic"}],"ports":{"in":[{"name":"Inp"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"625px","height":"436px"}}}}}]},"version":"3.0","package":{"name":"MotorDriver","version":"2.0.0","description":"Publishes Twist Messages to a given Topic","author":"Muhammad Taha Suhail, Toshan Luktuke","image":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB2aWV3Qm94PSIwIDAgMTI4IDEyOCIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiPjx0aXRsZT5NT1RPUiBEQzwvdGl0bGU+PHBhdGggZD0iTTU0LjQ2OSwzNC42MjVINzQuNjNhNy4yOTQsNy4yOTQsMCwwLDEsNy4yOTQsNy4yOTRWNTJhMCwwLDAsMCwxLDAsMEg0Ny4xNzVhMCwwLDAsMCwxLDAsMFY0MS45MTlBNy4yOTQsNy4yOTQsMCwwLDEsNTQuNDY5LDM0LjYyNVoiIHN0eWxlPSJmaWxsOiNiYWRkZmEiLz48cGF0aCBkPSJNODAuNDI1LDUySDQ4LjY3NVY3Mi4xOTFBNC4wNzYsNC4wNzYsMCwwLDAsNTEuMyw3NmgwYTQuMDc2LDQuMDc2LDAsMCwxLDIuNjI1LDMuODA5VjgwLjVoMjEuMjV2LS42OTFBNC4wNzYsNC4wNzYsMCwwLDEsNzcuOCw3NmgwYTQuMDc2LDQuMDc2LDAsMCwwLDIuNjI1LTMuODA5WiIgc3R5bGU9ImZpbGw6I2ZmZiIvPjxyZWN0IHg9IjYxLjExMiIgeT0iODYuNSIgd2lkdGg9IjYuODc1IiBoZWlnaHQ9IjYuODc1IiBzdHlsZT0iZmlsbDojYmFkZGZhIi8+PHBhdGggZD0iTTc0LjYzLDMzLjUyNUg1NC40NjlhOC40LDguNCwwLDAsMC04LjM5NCw4LjM5NVY1MmExLjEsMS4xLDAsMCwwLDEuMSwxLjFoLjRWNzIuMTkxYTUuMjA2LDUuMjA2LDAsMCwwLDMuMzMzLDQuODM3LDIuOTkxLDIuOTkxLDAsMCwxLDEuOTE2LDIuNzhWODAuNWExLjEsMS4xLDAsMCwwLDEuMSwxLjFINjMuNDV2My44SDYxLjExMmExLjEsMS4xLDAsMCwwLTEuMSwxLjF2Ni44NzVhMS4xLDEuMSwwLDAsMCwxLjEsMS4xaDYuODc1YTEuMSwxLjEsMCwwLDAsMS4xLTEuMVY4Ni41YTEuMSwxLjEsMCwwLDAtMS4xLTEuMUg2NS42NVY4MS42aDkuNTI1YTEuMSwxLjEsMCwwLDAsMS4xLTEuMXYtLjY5MWEyLjk5MSwyLjk5MSwwLDAsMSwxLjkxNi0yLjc4LDUuMjA2LDUuMjA2LDAsMCwwLDMuMzMzLTQuODM3VjUzLjFoLjRhMS4xLDEuMSwwLDAsMCwxLjEtMS4xVjQxLjkyQTguNCw4LjQsMCwwLDAsNzQuNjMsMzMuNTI1Wm0tNy43NDMsNTguNzVINjIuMjEyVjg3LjZoNC42NzVaTTQ4LjI3NSw0MS45MmE2LjIsNi4yLDAsMCwxLDYuMTk0LTYuMkg3NC42M2E2LjIsNi4yLDAsMCwxLDYuMTk0LDYuMlY1MC45SDQ4LjI3NVptMzEuMDUsMzAuMjcyYTIuOTkxLDIuOTkxLDAsMCwxLTEuOTE2LDIuNzhBNS4yMSw1LjIxLDAsMCwwLDc0LjA5MSw3OS40SDU1LjAwOGE1LjIxLDUuMjEsMCwwLDAtMy4zMTctNC40MjksMi45OTEsMi45OTEsMCwwLDEtMS45MTYtMi43OFY1My4xaDI5LjU1WiIgc3R5bGU9ImZpbGw6IzM5NDlhYSIvPjxwYXRoIGQ9Ik01Ny44LDcxLjZhMS4xLDEuMSwwLDAsMCwxLjEtMS4xVjU4Ljc1YTEuMSwxLjEsMCwwLDAtMi4yLDBWNzAuNUExLjEsMS4xLDAsMCwwLDU3LjgsNzEuNloiIHN0eWxlPSJmaWxsOiMzOTQ5YWEiLz48cGF0aCBkPSJNNjQuNTUsNzEuNmExLjEsMS4xLDAsMCwwLDEuMS0xLjFWNTguNzVhMS4xLDEuMSwwLDAsMC0yLjIsMFY3MC41QTEuMSwxLjEsMCwwLDAsNjQuNTUsNzEuNloiIHN0eWxlPSJmaWxsOiMzOTQ5YWEiLz48cGF0aCBkPSJNNzEuMyw3MS42YTEuMSwxLjEsMCwwLDAsMS4xLTEuMVY1OC43NWExLjEsMS4xLDAsMCwwLTIuMiwwVjcwLjVBMS4xLDEuMSwwLDAsMCw3MS4zLDcxLjZaIiBzdHlsZT0iZmlsbDojMzk0OWFhIi8+PC9zdmc+Cg=="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"b260dece-d4ba-4f59-81a1-8b9b7d793e14","type":"basic.input","data":{"name":"Inp"},"position":{"x":360.50420168067217,"y":384.8739495798318}},{"id":"cbbaab3d-2b9e-4801-8c14-c2aec24f16d1","type":"basic.input","data":{"name":"Enable"},"position":{"x":363.02521008403346,"y":552.9411764705881}},{"id":"0005-3404904d-c56d-4760-9f40-b2177b60caf5","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":691.5966386554619,"y":32.77310924369751}},{"id":"0006-cd024c06-9f9e-4b8b-ac40-4f9dc2512fe6","type":"basic.constant","data":{"name":"ROSTopic","value":"/robot/cmd_vel","local":true},"position":{"x":982.35294117647,"y":26.050420168067266}},{"id":"3b0f9235-5a06-4673-b6ea-d56e9435ce55","type":"basic.output","data":{"name":"Out"},"position":{"x":1365.5462184873943,"y":452.10084033613424}},{"id":"4b062f7d-1648-480b-9b4f-011952caee14","type":"basic.code","data":{"code":"import rospy\nimport numpy as np\nfrom time import sleep\nfrom geometry_msgs.msg import Twist\n\nlinear_velocity, angular_velocity = 0.0, 0.0\n\ndef callback(inp):\n    global linear_velocity, angular_velocity\n    \n\ndef main(inputs, outputs, parameters, synchronise):\n\n    rospy.init_node(\"motordriverVC\", anonymous=True)\n\n    rostopic_name = parameters.read_string(\"ROSTopic\")\n    # Create a Publisher that publishes to the given ROSTopic\n    publisher = rospy.Publisher(rostopic_name, Twist, queue_size=10)\n    \n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n        \n    # Create a Twist message\n    data = Twist()\n\n    while(auto_enable or inputs.read_number('Enable') and not rospy.is_shutdown()):\n        msg = inputs.read_array(\"Inp\")\n\n        if msg is None:\n            continue\n\n        linear_velocity = float(msg[0])\n        angular_velocity = float(msg[1])\n\n        data.linear.x = linear_velocity\n        data.angular.z = angular_velocity\n        publisher.publish(data)\n\n        synchronise()","frequency":"30","params":[{"name":"Frequency"},{"name":"ROSTopic"}],"ports":{"in":[{"name":"Inp"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"625px","height":"436px"}},"position":{"x":515.1260504201678,"y":186.55462184873946}}],"wires":[{"source":{"block":"b260dece-d4ba-4f59-81a1-8b9b7d793e14","port":"input-out","name":"Inp"},"target":{"block":"4b062f7d-1648-480b-9b4f-011952caee14","port":"Inp","name":"Inp"}},{"source":{"block":"cbbaab3d-2b9e-4801-8c14-c2aec24f16d1","port":"input-out","name":"Enable"},"target":{"block":"4b062f7d-1648-480b-9b4f-011952caee14","port":"Enable","name":"Enable"}},{"source":{"block":"4b062f7d-1648-480b-9b4f-011952caee14","port":"Out","name":"Out"},"target":{"block":"3b0f9235-5a06-4673-b6ea-d56e9435ce55","port":"output-in","name":"output-in"}},{"source":{"block":"0006-cd024c06-9f9e-4b8b-ac40-4f9dc2512fe6","port":"constant-out","name":"ROSTopic"},"target":{"block":"4b062f7d-1648-480b-9b4f-011952caee14","port":"ROSTopic","name":"ROSTopic"}},{"source":{"block":"0005-3404904d-c56d-4760-9f40-b2177b60caf5","port":"constant-out","name":"Frequency"},"target":{"block":"4b062f7d-1648-480b-9b4f-011952caee14","port":"Frequency","name":"Frequency"}}]}},"dependencies":{}}