{"editor":{"id":"ab2cb8f1-b867-4c2c-a1f1-05a4c8da58fe","locked":false,"offsetX":722.4484846178907,"offsetY":27.860324312426144,"zoom":92.39999999999998,"gridSize":0,"layers":[{"id":"b9f13e72-4e09-41a8-ab7c-3b74d6f84ffc","type":"diagram-links","isSvg":true,"transformed":true,"models":{"e9bcf3e9-64eb-40e2-a478-40d64191a4aa":{"id":"e9bcf3e9-64eb-40e2-a478-40d64191a4aa","type":"default","selected":false,"source":"0009-35cc0d1b-92d1-474a-9001-c2a6b3698d5f","sourcePort":"f17aa2fb-9172-448d-bcc7-f5443039c930","target":"7875af7b-97c1-4186-85ec-189fcb4a0366","targetPort":"78ffc8d7-1c30-4fdf-8c22-39f27c3eb3af","points":[{"id":"65a65661-ca2d-4041-97ee-ddcba8a93b43","type":"point","x":234.78428379399546,"y":38.2643856001028},{"id":"00e8ed76-b0d7-44f4-8c81-68bcb8464540","type":"point","x":265.78443472861284,"y":206.06744916281502}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"b01cc1bf-2f43-4b4d-a5e3-adb4af9ff9fe":{"id":"b01cc1bf-2f43-4b4d-a5e3-adb4af9ff9fe","type":"default","selected":false,"source":"85386094-179d-4003-9eed-c6218d856864","sourcePort":"215edf2a-cca1-448f-900e-d88d25be9c11","target":"7875af7b-97c1-4186-85ec-189fcb4a0366","targetPort":"635750a8-523b-4d6b-8ab9-a68f3278e41a","points":[{"id":"fb5cd222-1903-4e3b-b347-5971be79ca80","type":"point","x":-295.25447842020947,"y":397.12086443650617},{"id":"55d7f823-9602-40cd-80a0-188afb5f5d64","type":"point","x":-195.0380546259048,"y":397.40942729373364}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"6742780e-be9d-44ee-8801-f47f92c333b8":{"id":"6742780e-be9d-44ee-8801-f47f92c333b8","type":"default","selected":false,"source":"9ea0ce69-f275-44b6-979d-97ba221511ca","sourcePort":"7a822047-0812-46ea-952a-09c49f57759c","target":"7875af7b-97c1-4186-85ec-189fcb4a0366","targetPort":"cdc16a8f-a8e9-42a9-b57b-34afb520975f","points":[{"id":"ddd0afa3-f230-4c5a-9ec7-9e6d5f77854e","type":"point","x":-307.8807713218472,"y":586.5328039171102},{"id":"384d61f3-6702-4892-afe8-2134b43580b0","type":"point","x":-195.0380546259048,"y":588.7334383656696}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"45acc4de-2892-4b59-a354-4cdfdde8ec7e":{"id":"45acc4de-2892-4b59-a354-4cdfdde8ec7e","type":"default","selected":false,"source":"7875af7b-97c1-4186-85ec-189fcb4a0366","sourcePort":"9b9c9cd8-3146-4a65-829c-98f1d1cb4742","target":"54f31206-0e56-435d-899b-280b43322825","targetPort":"b51fdc1a-3d6d-4ff8-8dd6-11c0b7343628","points":[{"id":"f5b3081b-006f-46a3-a33d-06c0e31e5c68","type":"point","x":726.624973711318,"y":493.06241627252825},{"id":"7053642f-1d2b-405d-8de4-dbfced69072c","type":"point","x":816.379672823851,"y":487.5970615182331}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"8a34c3a8-a829-4b72-b9f6-4ef2e9e46e16","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"85386094-179d-4003-9eed-c6218d856864":{"id":"85386094-179d-4003-9eed-c6218d856864","type":"basic.input","selected":false,"x":-388.7573424158788,"y":370.62088647454505,"ports":[{"id":"215edf2a-cca1-448f-900e-d88d25be9c11","type":"port.output","x":-302.7580870247397,"y":389.61725583197597,"name":"input-out","alignment":"right","parentNode":"85386094-179d-4003-9eed-c6218d856864","links":["b01cc1bf-2f43-4b4d-a5e3-adb4af9ff9fe"],"in":false,"label":"Img","hideLabel":true}],"data":{"name":"Img"}},"9ea0ce69-f275-44b6-979d-97ba221511ca":{"id":"9ea0ce69-f275-44b6-979d-97ba221511ca","type":"basic.input","selected":false,"x":-401.3796355259767,"y":560.0263502702527,"ports":[{"id":"7a822047-0812-46ea-952a-09c49f57759c","type":"port.output","x":-315.384371669457,"y":579.02919531258,"name":"input-out","alignment":"right","parentNode":"9ea0ce69-f275-44b6-979d-97ba221511ca","links":["6742780e-be9d-44ee-8801-f47f92c333b8"],"in":false,"label":"Enable","hideLabel":true}],"data":{"name":"Enable"}},"7875af7b-97c1-4186-85ec-189fcb4a0366":{"id":"7875af7b-97c1-4186-85ec-189fcb4a0366","type":"basic.code","selected":false,"x":-203.5343035343036,"y":128.06652806652806,"ports":[{"id":"635750a8-523b-4d6b-8ab9-a68f3278e41a","type":"port.input","x":-202.54166323043506,"y":389.9058186892034,"name":"Img","alignment":"left","parentNode":"7875af7b-97c1-4186-85ec-189fcb4a0366","links":["b01cc1bf-2f43-4b4d-a5e3-adb4af9ff9fe"],"in":true,"label":"Img","hideLabel":false},{"id":"cdc16a8f-a8e9-42a9-b57b-34afb520975f","type":"port.input","x":-202.54166323043506,"y":581.2298297611393,"name":"Enable","alignment":"left","parentNode":"7875af7b-97c1-4186-85ec-189fcb4a0366","links":["6742780e-be9d-44ee-8801-f47f92c333b8"],"in":true,"label":"Enable","hideLabel":false},{"id":"9b9c9cd8-3146-4a65-829c-98f1d1cb4742","type":"port.output","x":719.1213651067878,"y":485.55880766799805,"name":"Out","alignment":"right","parentNode":"7875af7b-97c1-4186-85ec-189fcb4a0366","links":["45acc4de-2892-4b59-a354-4cdfdde8ec7e"],"in":false,"label":"Out","hideLabel":false},{"id":"78ffc8d7-1c30-4fdf-8c22-39f27c3eb3af","type":"port.parameter","x":258.2808343810031,"y":198.5638405582848,"name":"Frequency","alignment":"top","parentNode":"7875af7b-97c1-4186-85ec-189fcb4a0366","links":["e9bcf3e9-64eb-40e2-a478-40d64191a4aa"],"in":true,"label":"Frequency","hideLabel":false}],"data":{"code":"import cv2\nimport numpy as np\n\ndef main(inputs, outputs, parameters, synchronise):\n\n    auto_enable = False\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n\n    while(auto_enable or inputs.read_number('Enable')):\n        img = inputs.read_image(\"Img\")\n        if img is None:\n            continue\n\n        img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n        ret, thresh = cv2.threshold(img_gray, 60, 255, cv2.THRESH_BINARY)\n        contours, hierarchy = cv2.findContours(thresh, 1, 2)\n\n        # Find the biggest contour (if detected)\n        if len(contours) > 0:\n            cont = max(contours, key=cv2.contourArea)\n            rect = cv2.minAreaRect(cont) # Get the minimum area bounding rectangle for the contour\n            # ( center (x,y), (width, height), angle of rotation )\n\n            # Get the moments of the image\n            M = cv2.moments(cont)\n            if M['m00'] != 0:\n                # Get the coords of the center of the moments\n                cx = int(M['m10']/M['m00'])\n                cy = int(M['m01']/M['m00'])\n\n            data = [cx, cy, rect[1][0], rect[1][1], rect[2]]\n            # Send the data to the wire in the form of an array \n            outputs.share_array('Out', data)\n\n        synchronise()\n","frequency":"30","params":[{"name":"Frequency"}],"ports":{"in":[{"name":"Img"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"868px","height":"19px"}}},"0009-35cc0d1b-92d1-474a-9001-c2a6b3698d5f":{"id":"0009-35cc0d1b-92d1-474a-9001-c2a6b3698d5f","type":"basic.constant","selected":false,"x":173.7770649558941,"y":-77.225340817963,"ports":[{"id":"f17aa2fb-9172-448d-bcc7-f5443039c930","type":"port.output","x":227.28628982918303,"y":30.766391635290383,"name":"constant-out","alignment":"bottom","parentNode":"0009-35cc0d1b-92d1-474a-9001-c2a6b3698d5f","links":["e9bcf3e9-64eb-40e2-a478-40d64191a4aa"],"in":false,"label":"Frequency","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"54f31206-0e56-435d-899b-280b43322825":{"id":"54f31206-0e56-435d-899b-280b43322825","type":"basic.output","selected":false,"x":807.8902786601259,"y":461.0951999083515,"ports":[{"id":"b51fdc1a-3d6d-4ff8-8dd6-11c0b7343628","type":"port.input","x":808.8760724762412,"y":480.09345291370283,"name":"output-in","alignment":"left","parentNode":"54f31206-0e56-435d-899b-280b43322825","links":["45acc4de-2892-4b59-a354-4cdfdde8ec7e"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}}}}]},"version":"3.0","package":{"name":"Contour Detector","version":"2.0.0","description":"Draws Contours in an Image","author":"Toshan Luktuke, Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNTEyIDUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnPjxnPjxwYXRoIGQ9Im00OTcgMjQxaC0yOS42OGMtNy4zNy0xMDQuODgtOTEuNDQtMTg4Ljk0LTE5Ni4zMi0xOTYuMzJ2LTI5LjY4YzAtOC4yOC02LjcyLTE1LTE1LTE1cy0xNSA2LjcyLTE1IDE1djI5LjY4Yy0xMDQuODggNy4zOC0xODguOTUgOTEuNDQtMTk2LjMyIDE5Ni4zMmgtMjkuNjhjLTguMjggMC0xNSA2LjcyLTE1IDE1IDAgOC4yOSA2LjcyIDE1IDE1IDE1aDI5LjY4YzcuMzcgMTA0Ljg4IDkxLjQ0IDE4OC45NSAxOTYuMzIgMTk2LjMydjI5LjY4YzAgOC4yOSA2LjcyIDE1IDE1IDE1czE1LTYuNzEgMTUtMTV2LTI5LjY4YzEwNC44OC03LjM3IDE4OC45NS05MS40NCAxOTYuMzItMTk2LjMyaDI5LjY4YzguMjggMCAxNS02LjcxIDE1LTE1IDAtOC4yOC02LjcyLTE1LTE1LTE1em0tMjQxIDE5Ni44NGMtMTAwLjI3IDAtMTgxLjg0LTgxLjU3LTE4MS44NC0xODEuODRzODEuNTctMTgxLjg0IDE4MS44NC0xODEuODQgMTgxLjg0IDgxLjU3IDE4MS44NCAxODEuODQtODEuNTcgMTgxLjg0LTE4MS44NCAxODEuODR6IiBmaWxsPSIjNDU0NTU0Ii8+PC9nPjxwYXRoIGQ9Im0zNTUuMTIgMTkzLjkxLTk5LjEyIDE1MC42NS05OS4wOS0xNTAuNjljMS4wOC0xLjcyIDIuNTEtMy4yMyA0LjIyLTQuNGw4Ni43MS01OS40YzIuNDYtMS42OSA1LjMtMi41NyA4LjE2LTIuNjIgMy4wOC0uMDcgNi4xOC44MiA4LjgzIDIuNjVsODYuMDQgNTkuMzdjMS43MiAxLjE4IDMuMTYgMi43IDQuMjUgNC40NHoiIGZpbGw9IiNmZmYxNmIiLz48cGF0aCBkPSJtMzU1LjEyIDE5My45MS05OS4xMiAxNTAuNjV2LTIxNy4xMWMzLjA4LS4wNyA2LjE4LjgyIDguODMgMi42NWw4Ni4wNCA1OS4zN2MxLjcyIDEuMTggMy4xNiAyLjcgNC4yNSA0LjQ0eiIgZmlsbD0iI2ZmZDg0NSIvPjxwYXRoIGQ9Im0yNTYgMjU2IDIwIDYxLjU1Ni0yMCA2Ny4wMDRjLTIuOTcgMC01LjkzLS44OS04LjQ4LTIuNjNsLTg2LjM3LTU5LjE3Yy00LjA4LTIuNzktNi41Mi03LjQyLTYuNTItMTIuMzd2LTEwOC41NmMwLTIuODcuODItNS42MiAyLjI4LTcuOTZ6IiBmaWxsPSIjZmZkODQ1Ii8+PHBhdGggZD0ibTM1Ny4zNyAyMDEuODN2MTA4LjU2YzAgNC45NS0yLjQ0IDkuNTgtNi41MiAxMi4zN2wtODYuMzcgNTkuMTdjLS4wMS4wMS0uMDEuMDEtLjAxLjAxLS40Ny4zMi0uOTYuNjItMS40OC44OS0yLjE5IDEuMTYtNC41OSAxLjczLTYuOTkgMS43M3YtMTI4LjU2bDk5LjA4LTYyLjEzLjA0LjA0YzEuNDQgMi4zMyAyLjI1IDUuMDcgMi4yNSA3LjkyeiIgZmlsbD0iI2ZmYjQ1NCIvPjxwYXRoIGQ9Im01MTIgMjU2YzAgOC4yOS02LjcyIDE1LTE1IDE1aC0yOS42OGMtNy4zNyAxMDQuODgtOTEuNDQgMTg4Ljk1LTE5Ni4zMiAxOTYuMzJ2MjkuNjhjMCA4LjI5LTYuNzIgMTUtMTUgMTV2LTc0LjE2YzEwMC4yNyAwIDE4MS44NC04MS41NyAxODEuODQtMTgxLjg0cy04MS41Ny0xODEuODQtMTgxLjg0LTE4MS44NHYtNzQuMTZjOC4yOCAwIDE1IDYuNzIgMTUgMTV2MjkuNjhjMTA0Ljg4IDcuMzggMTg4Ljk1IDkxLjQ0IDE5Ni4zMiAxOTYuMzJoMjkuNjhjOC4yOCAwIDE1IDYuNzIgMTUgMTV6IiBmaWxsPSIjMmUyZTJlIi8+PC9nPjwvc3ZnPg=="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"85386094-179d-4003-9eed-c6218d856864","type":"basic.input","data":{"name":"Img"},"position":{"x":-388.7573424158788,"y":370.62088647454505}},{"id":"9ea0ce69-f275-44b6-979d-97ba221511ca","type":"basic.input","data":{"name":"Enable"},"position":{"x":-401.3796355259767,"y":560.0263502702527}},{"id":"7875af7b-97c1-4186-85ec-189fcb4a0366","type":"basic.code","data":{"code":"import cv2\nimport numpy as np\n\ndef main(inputs, outputs, parameters, synchronise):\n\n    auto_enable = False\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n\n    while(auto_enable or inputs.read_number('Enable')):\n        img = inputs.read_image(\"Img\")\n        if img is None:\n            continue\n\n        img_gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n        ret, thresh = cv2.threshold(img_gray, 60, 255, cv2.THRESH_BINARY)\n        contours, hierarchy = cv2.findContours(thresh, 1, 2)\n\n        # Find the biggest contour (if detected)\n        if len(contours) > 0:\n            cont = max(contours, key=cv2.contourArea)\n            rect = cv2.minAreaRect(cont) # Get the minimum area bounding rectangle for the contour\n            # ( center (x,y), (width, height), angle of rotation )\n\n            # Get the moments of the image\n            M = cv2.moments(cont)\n            if M['m00'] != 0:\n                # Get the coords of the center of the moments\n                cx = int(M['m10']/M['m00'])\n                cy = int(M['m01']/M['m00'])\n\n            data = [cx, cy, rect[1][0], rect[1][1], rect[2]]\n            # Send the data to the wire in the form of an array \n            outputs.share_array('Out', data)\n\n        synchronise()\n","frequency":"30","params":[{"name":"Frequency"}],"ports":{"in":[{"name":"Img"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"868px","height":"19px"}},"position":{"x":-203.5343035343036,"y":128.06652806652806}},{"id":"0009-35cc0d1b-92d1-474a-9001-c2a6b3698d5f","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":173.7770649558941,"y":-77.225340817963}},{"id":"54f31206-0e56-435d-899b-280b43322825","type":"basic.output","data":{"name":"Out"},"position":{"x":807.8902786601259,"y":461.0951999083515}}],"wires":[{"source":{"block":"0009-35cc0d1b-92d1-474a-9001-c2a6b3698d5f","port":"constant-out","name":"Frequency"},"target":{"block":"7875af7b-97c1-4186-85ec-189fcb4a0366","port":"Frequency","name":"Frequency"}},{"source":{"block":"85386094-179d-4003-9eed-c6218d856864","port":"input-out","name":"Img"},"target":{"block":"7875af7b-97c1-4186-85ec-189fcb4a0366","port":"Img","name":"Img"}},{"source":{"block":"9ea0ce69-f275-44b6-979d-97ba221511ca","port":"input-out","name":"Enable"},"target":{"block":"7875af7b-97c1-4186-85ec-189fcb4a0366","port":"Enable","name":"Enable"}},{"source":{"block":"7875af7b-97c1-4186-85ec-189fcb4a0366","port":"Out","name":"Out"},"target":{"block":"54f31206-0e56-435d-899b-280b43322825","port":"output-in","name":"output-in"}}]}},"dependencies":{}}