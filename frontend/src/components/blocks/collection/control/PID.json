{"editor":{"id":"3d02961f-e447-42a0-ad61-ff52661fcf6b","locked":false,"offsetX":-107.5409508041629,"offsetY":-30.730000000000064,"zoom":109.50000000000003,"gridSize":0,"layers":[{"id":"9b1f5936-7664-4226-8603-ed9431470955","type":"diagram-links","isSvg":true,"transformed":true,"models":{"288c2e80-1566-4028-a9df-6691606d42d2":{"id":"288c2e80-1566-4028-a9df-6691606d42d2","type":"default","selected":false,"source":"20574fd8-f7f1-467b-9d70-952ee59d7c44","sourcePort":"3de93cd7-260a-48b0-8639-1164227640be","target":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","targetPort":"bdf97d6c-bd7d-47f9-b28a-ea78a427f219","points":[{"id":"6385c950-359d-4627-9a56-290911edf68d","type":"point","x":340.53207121411486,"y":418.7260148557898},{"id":"a7cfbf40-283b-4dcf-a814-c7668fe5fcf2","type":"point","x":439.99933045132593,"y":442.69100910343536}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"bd671e8a-462f-4849-9085-9d4e99fb5860":{"id":"bd671e8a-462f-4849-9085-9d4e99fb5860","type":"default","selected":false,"source":"4f6f96a7-d3f0-4ff0-a774-66e8446591b9","sourcePort":"c2a6eae0-c706-4fd9-9df2-b13e3b16fb53","target":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","targetPort":"c8356494-9558-4fc4-8eaa-723baba1da92","points":[{"id":"17118075-797d-4b47-9f1e-76b7cce50b7e","type":"point","x":337.7923451867176,"y":592.2419965909496},{"id":"50c166bf-d233-484b-9e96-e17f2284738a","type":"point","x":439.99933045132593,"y":623.3530928380956}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"2a211b7c-feae-4005-8bf7-cc1ec7ad4ea5":{"id":"2a211b7c-feae-4005-8bf7-cc1ec7ad4ea5","type":"default","selected":false,"source":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","sourcePort":"a4ca1d57-9955-4f7c-b3b0-21a64071409f","target":"7cc1c50e-213e-4fe5-ad52-88971607096d","targetPort":"bc53606f-c118-435a-aa45-e76a3545af08","points":[{"id":"fbf4243a-85fb-4889-9226-8428df8ccdd2","type":"point","x":1237.6477559672542,"y":533.0182745946597},{"id":"901ba076-25a5-41eb-98e7-886bc22fece4","type":"point","x":1280.1896500525852,"y":514.6316427988547}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"ef51db59-172d-45a4-ab4e-f5a2399ba25a":{"id":"ef51db59-172d-45a4-ab4e-f5a2399ba25a","type":"default","selected":false,"source":"0009-8c4ee038-6a3f-4539-babc-12cacbe4bc46","sourcePort":"ebf201a1-f143-4eff-8522-66c5a1cca5b7","target":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","targetPort":"7a88e817-113a-440a-8a3c-452680d266fa","points":[{"id":"1291222a-31ef-44c8-af8d-2cccdd2e4aa4","type":"point","x":570.1363167526956,"y":153.40639269406395},{"id":"787d7a0a-56f0-4f22-9e89-2a32480fe727","type":"point","x":599.8166820494994,"y":262.013708384614}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"aca296dd-d553-4963-94e6-841a75cd0394":{"id":"aca296dd-d553-4963-94e6-841a75cd0394","type":"default","selected":false,"source":"0006-8b66c942-a67f-4e25-9bff-8691946542f9","sourcePort":"a8f1ed2d-93dc-4354-bbe1-46d30fe83061","target":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","targetPort":"929db622-7d4d-42af-afd0-3e33d786e4e7","points":[{"id":"34359034-01f1-4185-9fcf-a3568a495bd5","type":"point","x":709.862344149956,"y":154.31963470319639},{"id":"b3312877-4b88-437e-ae37-9a06fe44177e","type":"point","x":774.6264488450365,"y":262.013708384614}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"e033aaa7-0f74-4276-970d-fad5a76df2e5":{"id":"e033aaa7-0f74-4276-970d-fad5a76df2e5","type":"default","selected":false,"source":"0007-a77006de-d45e-4ab4-9224-34c6442cb813","sourcePort":"8d98d086-0f89-4d3e-b05b-a26d4c73da67","target":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","targetPort":"bb3cf574-9c60-4595-9fa7-155dbe05cb09","points":[{"id":"a61aeaed-d74e-4854-9b47-d205c7cd046f","type":"point","x":843.1956774832893,"y":153.40639269406395},{"id":"35e7f5a2-758c-4902-9f4a-46f3df0dedd6","type":"point","x":933.956745470322,"y":262.013708384614}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"1e929292-8a77-4348-9197-5fa32e078418":{"id":"1e929292-8a77-4348-9197-5fa32e078418","type":"default","selected":false,"source":"0008-4b940e9d-8a37-42eb-82ed-46d202014e70","sourcePort":"d749aecf-6d77-430d-bb16-b84dc8b260ca","target":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","targetPort":"fd00e3a5-3b53-48ee-95b7-ecd9d1ba20a5","points":[{"id":"887ff561-eb7e-47f2-af54-c4924f7b1862","type":"point","x":976.5290108166228,"y":154.31963470319639},{"id":"4b46e7b5-c29e-4231-9a76-f43484bd7598","type":"point","x":1093.3250845560099,"y":262.013708384614}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"5df6250c-0cab-4e62-b50c-82d1ac3197d2","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"20574fd8-f7f1-467b-9d70-952ee59d7c44":{"id":"20574fd8-f7f1-467b-9d70-952ee59d7c44","type":"basic.input","selected":false,"x":247.03196347031962,"y":392.2374429223744,"ports":[{"id":"3de93cd7-260a-48b0-8639-1164227640be","type":"port.output","x":333.0358740666584,"y":411.2298177083333,"name":"input-out","alignment":"right","parentNode":"20574fd8-f7f1-467b-9d70-952ee59d7c44","links":["288c2e80-1566-4028-a9df-6691606d42d2"],"in":false,"label":"Inp","hideLabel":true}],"data":{"name":"Inp"}},"4f6f96a7-d3f0-4ff0-a774-66e8446591b9":{"id":"4f6f96a7-d3f0-4ff0-a774-66e8446591b9","type":"basic.input","selected":false,"x":244.29223744292233,"y":565.7534246575341,"ports":[{"id":"c2a6eae0-c706-4fd9-9df2-b13e3b16fb53","type":"port.output","x":330.29614803926114,"y":584.7457994434931,"name":"input-out","alignment":"right","parentNode":"4f6f96a7-d3f0-4ff0-a774-66e8446591b9","links":["bd671e8a-462f-4849-9085-9d4e99fb5860"],"in":false,"label":"Enable","hideLabel":true}],"data":{"name":"Enable"}},"0006-8b66c942-a67f-4e25-9bff-8691946542f9":{"id":"0006-8b66c942-a67f-4e25-9bff-8691946542f9","type":"basic.constant","selected":false,"x":648.8584474885844,"y":38.812785388127864,"ports":[{"id":"a8f1ed2d-93dc-4354-bbe1-46d30fe83061","type":"port.output","x":702.3661539699831,"y":146.81583603114302,"name":"constant-out","alignment":"bottom","parentNode":"0006-8b66c942-a67f-4e25-9bff-8691946542f9","links":["aca296dd-d553-4963-94e6-841a75cd0394"],"in":false,"label":"Kp","hideLabel":true}],"data":{"name":"Kp","value":"1.0","local":true}},"0007-a77006de-d45e-4ab4-9224-34c6442cb813":{"id":"0007-a77006de-d45e-4ab4-9224-34c6442cb813","type":"basic.constant","selected":false,"x":782.1917808219176,"y":37.899543378995446,"ports":[{"id":"8d98d086-0f89-4d3e-b05b-a26d4c73da67","type":"port.output","x":835.6994873033165,"y":145.9025940220106,"name":"constant-out","alignment":"bottom","parentNode":"0007-a77006de-d45e-4ab4-9224-34c6442cb813","links":["e033aaa7-0f74-4276-970d-fad5a76df2e5"],"in":false,"label":"Ki","hideLabel":true}],"data":{"name":"Ki","value":"1.0","local":true}},"0008-4b940e9d-8a37-42eb-82ed-46d202014e70":{"id":"0008-4b940e9d-8a37-42eb-82ed-46d202014e70","type":"basic.constant","selected":false,"x":915.525114155251,"y":38.812785388127864,"ports":[{"id":"d749aecf-6d77-430d-bb16-b84dc8b260ca","type":"port.output","x":969.0328206366498,"y":146.81583603114302,"name":"constant-out","alignment":"bottom","parentNode":"0008-4b940e9d-8a37-42eb-82ed-46d202014e70","links":["1e929292-8a77-4348-9197-5fa32e078418"],"in":false,"label":"Kd","hideLabel":true}],"data":{"name":"Kd","value":"1.0","local":true}},"0009-8c4ee038-6a3f-4539-babc-12cacbe4bc46":{"id":"0009-8c4ee038-6a3f-4539-babc-12cacbe4bc46","type":"basic.constant","selected":false,"x":509.13242009132415,"y":37.899543378995446,"ports":[{"id":"ebf201a1-f143-4eff-8522-66c5a1cca5b7","type":"port.output","x":562.6401265727228,"y":145.9025940220106,"name":"constant-out","alignment":"bottom","parentNode":"0009-8c4ee038-6a3f-4539-babc-12cacbe4bc46","links":["ef51db59-172d-45a4-ab4e-f5a2399ba25a"],"in":false,"label":"Frequency","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"7cc1c50e-213e-4fe5-ad52-88971607096d":{"id":"7cc1c50e-213e-4fe5-ad52-88971607096d","type":"basic.output","selected":false,"x":1271.6894977168947,"y":488.12785388127844,"ports":[{"id":"bc53606f-c118-435a-aa45-e76a3545af08","type":"port.input","x":1272.6858444130482,"y":507.1354456513983,"name":"output-in","alignment":"left","parentNode":"7cc1c50e-213e-4fe5-ad52-88971607096d","links":["2a211b7c-feae-4005-8bf7-cc1ec7ad4ea5"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}},"4dd01f4b-e079-41da-8c38-09aed86f5cd8":{"id":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","type":"basic.code","selected":false,"x":431.50684931506845,"y":184.0182648401826,"ports":[{"id":"bdf97d6c-bd7d-47f9-b28a-ea78a427f219","type":"port.input","x":432.503140271353,"y":435.1872034638984,"name":"Inp","alignment":"left","parentNode":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","links":["288c2e80-1566-4028-a9df-6691606d42d2"],"in":true,"label":"Inp","hideLabel":false},{"id":"c8356494-9558-4fc4-8eaa-723baba1da92","type":"port.input","x":432.503140271353,"y":615.8568956906391,"name":"Enable","alignment":"left","parentNode":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","links":["bd671e8a-462f-4849-9085-9d4e99fb5860"],"in":true,"label":"Enable","hideLabel":false},{"id":"a4ca1d57-9955-4f7c-b3b0-21a64071409f","type":"port.output","x":1230.1439503277172,"y":525.5220774472032,"name":"Out","alignment":"right","parentNode":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","links":["2a211b7c-feae-4005-8bf7-cc1ec7ad4ea5"],"in":false,"label":"Out","hideLabel":false},{"id":"7a88e817-113a-440a-8a3c-452680d266fa","type":"port.parameter","x":592.3204918695264,"y":254.51751123715755,"name":"Frequency","alignment":"top","parentNode":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","links":["ef51db59-172d-45a4-ab4e-f5a2399ba25a"],"in":true,"label":"Frequency","hideLabel":false},{"id":"929db622-7d4d-42af-afd0-3e33d786e4e7","type":"port.parameter","x":767.1302516975801,"y":254.51751123715755,"name":"Kp","alignment":"top","parentNode":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","links":["aca296dd-d553-4963-94e6-841a75cd0394"],"in":true,"label":"Kp","hideLabel":false},{"id":"bb3cf574-9c60-4595-9fa7-155dbe05cb09","type":"port.parameter","x":926.4605483228655,"y":254.51751123715755,"name":"Ki","alignment":"top","parentNode":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","links":["e033aaa7-0f74-4276-970d-fad5a76df2e5"],"in":true,"label":"Ki","hideLabel":false},{"id":"fd00e3a5-3b53-48ee-95b7-ecd9d1ba20a5","type":"port.parameter","x":1085.821278916473,"y":254.51751123715755,"name":"Kd","alignment":"top","parentNode":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","links":["1e929292-8a77-4348-9197-5fa32e078418"],"in":true,"label":"Kd","hideLabel":false}],"data":{"code":"import numpy as np\nimport math\nfrom time import sleep\n\ndef main(inputs, outputs, parameters, synchronise):\n\n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n\n    kp = float(parameters.read_string(\"Kp\"))\n    ki = float(parameters.read_string(\"Ki\"))\n    kd = float(parameters.read_string(\"Kd\"))\n\n    previousError, I = 0, 0\n\n    msg = inputs.read_number(\"Inp\")\n\n    while(auto_enable or inputs.read_number('Enable')):\n        if msg is None:\n            continue\n\n        error = float(msg)\n        sleep(0.01)\n\n        P = error\n        I = I + error\n        D = error - previousError\n        PIDvalue = (kp*P) + (ki*I) + (kd*D)\n        previousError = error\n\n        linear_velocity = 5.0\n        angular_velocity = -PIDvalue\n\n        data = [linear_velocity, angular_velocity]\n        # print(data)\n        outputs.share_array(\"Out\", data)\n        synchronise()","frequency":"30","params":[{"name":"Frequency"},{"name":"Kp"},{"name":"Ki"},{"name":"Kd"}],"ports":{"in":[{"name":"Inp"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"757px","height":"504px"}}}}}]},"version":"3.0","package":{"name":"PID","version":"2.0.0","description":"Navigation using PID","author":"Muhammad Taha Suhail, Toshan Luktuke","image":"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfNSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNjQgNjQiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNjQgNjQiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PGc+PGc+PHBhdGggZD0ibTI1LjQyIDYyaC0yMS40MnYtOC4yOWMwLTIuOTUgMS4yLTUuNjMgMy4xNC03LjU3Ljg0LS44NCAxLjgyLTEuNTQgMi45LTIuMDYgMS40MS0uNjkgMy0xLjA4IDQuNjctMS4wOC40NCAwIC44Ny4wMyAxLjI5LjA4IDIuODIuMzQgNS4zNCAxLjc4IDcuMDUgMy45MiAxLjE4IDEuNDYgMS45OCAzLjIzIDIuMjYgNS4ybC42OSA0LjguMDMuMDggNC44MS0yLjE5IDEuOTggNC40Ni00LjM4IDJjLS45NS40My0xLjk4LjY1LTMuMDIuNjV6IiBmaWxsPSIjZmNkNzcwIi8+PC9nPjxnPjxwYXRoIGQ9Im0zNy40MiA1Ni45OWMuNTUtMS4xNS41OC0xLjM1LjU4LTEuNTYgMC0xLjM0LTEuMDktMi40My0yLjQzLTIuNDNoLS4wNGMtLjM1IDAtLjY5LjA3LTEuMDEuMjJsLTEuMi41NGMxLjA0LTEuNzEgMi45MS0yLjc2IDQuOTItMi43NmgxLjc2Yy43MyAwIDEuNDEuMiAyIC41NC4zLjE3LjU4LjM5LjgzLjYzLjcyLjczIDEuMTcgMS43MyAxLjE3IDIuODNzLS45IDItMiAyaC00LjU3eiIgZmlsbD0iI2I0ZGQ3ZiIvPjwvZz48Zz48cGF0aCBkPSJtMzMuMzIgNTMuNzYtLjAxLjAxLTEuMzEuNTl2LTcuMzZoMTB2NC41NGMtLjU5LS4zNC0xLjI3LS41NC0yLS41NGgtMS43NmMtMi4wMSAwLTMuODggMS4wNS00LjkyIDIuNzZ6IiBmaWxsPSIjYWFiMmJkIi8+PC9nPjxnPjxwYXRoIGQ9Im02MiAzOXY0YzAgMi4yMS0xLjc5IDQtNCA0aC02LTEwLTEwLTguOTVjLTEuNzEtMi4xNC00LjIzLTMuNTgtNy4wNS0zLjkydi0zLjA4aC0uMzJjLjg1IDAgMS42Ni0uMzQgMi4yNS0uOTNsLjA3LS4wN3oiIGZpbGw9IiNjY2QxZDkiLz48L2c+PGc+PHBhdGggZD0ibTU4IDEzaC0yMC0xNi4wNS0uMDFjLS4zMyAzLjQ2LTIuNDQgNi40LTUuNCA3LjkxLjg5Ljc0IDEuNDYgMS44NSAxLjQ2IDMuMDloM2MxLjEgMCAyIC44OSAyIDIgMCAuNTUtLjIyIDEuMDUtLjU5IDEuNDEtLjM2LjM3LS44Ni41OS0xLjQxLjU5aC0zbC44NSA4LjVjLjAxLjEuMDEuMjEuMDEuMzEgMCAuODEtLjMgMS41OS0uODYgMi4xOWg0NHYtMjJjMC0yLjIxLTEuNzktNC00LTR6IiBmaWxsPSIjNjlkNmY0Ii8+PC9nPjxnPjxjaXJjbGUgY3g9IjQ4IiBjeT0iMTMiIGZpbGw9IiNlNmU5ZWQiIHI9IjEwIi8+PC9nPjxnPjxwYXRoIGQ9Im0yNyAyOWg4djZoLTh6IiBmaWxsPSIjZmNkNzcwIi8+PC9nPjxnPjxwYXRoIGQ9Im0yMS45NCAxM2MtLjMzIDMuNDYtMi40NCA2LjQtNS40IDcuOTEtLjY5LS41Ny0xLjU4LS45MS0yLjU0LS45MWgtNGMtMS4wNCAwLTIuMDIuMjYtMi44Ny43My0zLjA2LTEuNzEtNS4xMy00Ljk4LTUuMTMtOC43MyAwLTUuNTIgNC40OC0xMCAxMC0xMHMxMCA0LjQ4IDEwIDEwYzAgLjM0LS4wMi42Ny0uMDYgMXoiIGZpbGw9IiNlNmU5ZWQiLz48L2c+PGc+PHBhdGggZD0ibTEwIDM1djVjLTMuNTgtMS4xOS02LTQuNTUtNi04LjMzdi0zLjY3aDZsLS45NC45NGMtLjY4LjY4LTEuMDYgMS42LTEuMDYgMi41NnMuMzggMS44OCAxLjA2IDIuNTZ6IiBmaWxsPSIjNjU2ZDc4Ii8+PC9nPjxnPjxwYXRoIGQ9Im0xOCAyNGgtMi43NmMtLjc2IDAtMS40NS40My0xLjc5IDEuMWwtMS40NSAyLjloLTItNnYtMmMwLTIuMjcgMS4yNy00LjI1IDMuMTMtNS4yNy44NS0uNDcgMS44My0uNzMgMi44Ny0uNzNoNGMuOTYgMCAxLjg1LjM0IDIuNTQuOTEuODkuNzQgMS40NiAxLjg1IDEuNDYgMy4wOXoiIGZpbGw9IiNmZjgyNmUiLz48L2c+PGc+PHBhdGggZD0ibTIxIDI0YzEuMSAwIDIgLjg5IDIgMiAwIC41NS0uMjIgMS4wNS0uNTkgMS40MS0uMzYuMzctLjg2LjU5LTEuNDEuNTloLTMtNmwxLjQ1LTIuOWMuMzQtLjY3IDEuMDMtMS4xIDEuNzktMS4xaDIuNzZ6IiBmaWxsPSIjZmM2ZTUxIi8+PC9nPjxnPjxwYXRoIGQ9Im0zNS41NyA1M2MxLjM0IDAgMi40MyAxLjA5IDIuNDMgMi40MyAwIC4yMS0uMDMuNDEtLjU4IDEuNTYtLjIyLjI4LS41MS41LS44NS42NmwtMy43NSAxLjctMS45OC00LjQ2IDEuMTYtLjUzIDEuMzEtLjU5LjAxLS4wMSAxLjItLjU0Yy4zMi0uMTUuNjYtLjIyIDEuMDEtLjIyeiIgZmlsbD0iI2YwZDBiNCIvPjwvZz48Zz48cGF0aCBkPSJtMTAgNDB2LTVsLS45NC0uOTRjLS42OC0uNjgtMS4wNi0xLjYtMS4wNi0yLjU2cy4zOC0xLjg4IDEuMDYtMi41NmwuOTQtLjk0aDIgNmwuODUgOC41Yy4wMS4xLjAxLjIxLjAxLjMxIDAgLjgxLS4zIDEuNTktLjg2IDIuMTktLjAzLjAzLS4wNS4wNS0uMDcuMDctLjU5LjU5LTEuNC45My0yLjI1LjkzaC4zMnYzLjA4Yy0uNDItLjA1LS44NS0uMDgtMS4yOS0uMDgtMS42NyAwLTMuMjYuMzktNC42NyAxLjA4bC0uMDQtLjA4eiIgZmlsbD0iI2YwZDBiNCIvPjwvZz48L2c+PGc+PHBhdGggZD0ibTEzIDEwLjE2MiAxLjI3OSAzLjgzOGg0LjcyMXYtMmgtMy4yNzlsLTIuNzIxLTguMTYyLTMuMTg2IDkuNTU2LTEuMTk2LTIuMzk0aC0zLjYxOHYyaDIuMzgybDIuODA0IDUuNjA2eiIvPjxwYXRoIGQ9Im01OCA0OGMyLjc1NyAwIDUtMi4yNDMgNS01di0yNmMwLTIuNDMtMS43NDQtNC40NTYtNC4wNDYtNC45MDQtLjQ2Mi01LjY0My01LjE5NC0xMC4wOTYtMTAuOTU0LTEwLjA5Ni01LjcyOCAwLTEwLjQ0MiA0LjQwMi0xMC45NDkgMTBoLTE0LjA1MWMwLTYuMDY1LTQuOTM1LTExLTExLTExcy0xMSA0LjkzNS0xMSAxMWMwIDMuNDY4IDEuNjQyIDYuNzA3IDQuMzY0IDguNzctMS40NDYgMS4yODMtMi4zNjQgMy4xNDktMi4zNjQgNS4yM3YxLjk5OSAxIDIuNjc2YzAgMy45NjkgMi4zODMgNy41MDMgNiA5LjAxNHYyLjgwOGMtMy41NzUgMi4wMDctNiA1LjgzMS02IDEwLjIxNHY5LjI4OWgyMi44NTZ2LS4wMjNjMS4wMzctLjA1NCAyLjA0NC0uMjg4IDIuOTk0LS43Mmw4LjEzNi0zLjY5OGMuMzE3LS4xNDQuNjAzLS4zMzQuODU2LS41NTloNC4xNThjMS4zMDIgMCAyLjQwMi0uODM5IDIuODE2LTJoMTUuMTg0YzEuNjU0IDAgMy0xLjM0NiAzLTNzLTEuMzQ2LTMtMy0zaC02Yy0uNTUyIDAtMS0uNDQ4LTEtMXYtMXptMC0yaC0zNC41MTJjLTEuNjc3LTEuOS0zLjk0NS0zLjI1Mi02LjQ4OC0zLjc2NXYtMS40N2MuNDk5LS4xNjcuOTU5LS40MjUgMS4zNjQtLjc2NWg0Mi42MzZ2M2MwIDEuNjU0LTEuMzQ2IDMtMyAzem0tMTggNGgtMS43NjRjLTIuMDQ5IDAtMy45OTguOTUtNS4yMzYgMi40NzZ2LTQuNDc2aDh2Mi4xMDFjLS4zMjMtLjA2Ni0uNjU4LS4xMDEtMS0uMTAxem0tMTMuMTg2IDUuNjIzLS41MS0zLjU2OGMtLjIwOS0xLjQ2LS42OS0yLjgyNi0xLjM4My00LjA1NWg2LjA3OXY1Ljcyem0tMTMuMTk2LTI4LjYyNC43MjQtMS40NDdjLjE3LS4zNDEuNTEzLS41NTMuODk1LS41NTNoNS43NjNjLjU1MiAwIDEgLjQ0OSAxIDFzLS40NDggMS0xIDF6bTM0LjM4Mi0yMi45OTljNC45NjMgMCA5IDQuMDM4IDkgOXMtNC4wMzcgOS05IDktOS00LjAzOC05LTkgNC4wMzctOSA5LTl6bS0xMC45NDkgMTBjLjUwNyA1LjU5OCA1LjIyMSAxMCAxMC45NDkgMTAgNS42NzIgMCAxMC4zNTMtNC4zMTYgMTAuOTM3LTkuODM1IDEuMTk0LjM5NiAyLjA2MyAxLjUxIDIuMDYzIDIuODM1djIxaC00MS4zMjRjLjE1Mi0uNTEzLjIyNC0xLjA1My4xNjgtMS42MDJsLS43NC03LjM5OWgxLjg5NmMxLjY1NCAwIDMtMS4zNDYgMy0zcy0xLjM0Ni0zLTMtM2gtMi4xMDFjLS4xMzktLjY4LS40My0xLjMwMS0uODE1LTEuODUxIDIuNDk1LTEuNjU2IDQuMTc2LTQuMjI4IDQuNzEyLTcuMTQ4em0tMzQuMDUxLTJjMC00Ljk2MiA0LjAzNy05IDktOXM5IDQuMDM4IDkgOWMwIDMuMjA3LTEuNjg5IDYuMTA2LTQuNDIyIDcuNzI2LS43NTQtLjQ1Ny0xLjYzMy0uNzI2LTIuNTc3LS43MjZoLTQuMDAxYy0uOTk3IDAtMS45NDQuMjEzLTIuODAzLjU5LTIuNTkzLTEuNjQ1LTQuMTk3LTQuNS00LjE5Ny03LjU5em0yIDE0YzAtMi43NTcgMi4yNDMtNSA1LTVoNC4wMDFjMS4zMDQgMCAyLjQxNS44MzUgMi44MjcgMS45OTloLTEuNTkyYy0xLjE0NCAwLTIuMTcyLjYzNS0yLjY4NCAxLjY1OGwtMS4xNzEgMi4zNDJoLTYuMzgxem0wIDUuNjc1di0yLjY3NmgyLjc0MWMtLjQ3OS43NC0uNzQxIDEuNTk5LS43NDEgMi41MDEgMCAxLjIxNi40OTMgMi40MDcgMS4zNTQgMy4yNjhsLjY0Ni42NDZ2My4wNDNjLTIuNDM0LTEuMzUzLTQtMy45MjEtNC02Ljc4MnptNC43NjggMS42NzljLS40ODgtLjQ4OC0uNzY4LTEuMTY0LS43NjgtMS44NTQgMC0uNy4yNzItMS4zNTguNzY4LTEuODU0bC42NDctLjY0N2g2LjY4bC43NiA3LjZjLjA2Ni42NTMtLjE2MyAxLjI5Ni0uNjI5IDEuNzYyLS40MDYuNDA2LS45Ny42NC0xLjU0NS42NGgtMi42ODF2MmgydjEuMDEzYy0uMDk3LS4wMDMtLjE5Mi0uMDE0LS4yODktLjAxNC0xLjI5OCAwLTIuNTQzLjIyMS0zLjcxMS42MTN2LTguMDI3em0xOC4yNTQgMjcuMDgzYy0uODIxLjM3NC0xLjY5Ni41NjMtMi42LjU2My0yLjc5OCAwLTUuMjE4LTEuODAxLTYuMDIxLTQuNDhsLTEuNDQyLTQuODA3LTEuOTE2LjU3NCAxLjQ0MiA0LjgwN2MuNDcyIDEuNTc1IDEuMzg0IDIuOSAyLjU1OSAzLjkwNmgtMTUuMDQ0di03LjI4OWMwLTUuMzU1IDQuMzU2LTkuNzExIDkuNzExLTkuNzExIDQuODAxIDAgOC45MzQgMy41ODQgOS42MTIgOC4zMzhsLjU5MyA0LjE0Ny0xLjMzLjYwNS44MjggMS44MiA1LjkyMS0yLjY5MiAxLjE3MSAyLjYzNHptOC4xMzctMy42OTktMi44MzEgMS4yODctMS4xNzEtMi42MzUgMi43NzgtMS4yNjNjLjE4NC0uMDgzLjM4OC0uMTI3LjYzMS0uMTI3Ljc5IDAgMS40MzQuNjQ0IDEuNDM0IDEuNDM0IDAgLjU2LS4zMyAxLjA3Mi0uODQxIDEuMzA0em01Ljg0MS0uNzM4aC0zLjA1MmMuMDMyLS4xODYuMDUyLS4zNzQuMDUyLS41NjYgMC0xLjQ1Ny0uOTE1LTIuNjk2LTIuMjE2LTMuMTk0LjQ2Ni0uMTUxLjk1My0uMjQgMS40NTItLjI0aDEuNzY0YzEuNjU0IDAgMyAxLjM0NiAzIDMgMCAuNTUyLS40NDggMS0xIDF6bTEyLTRoNmMuNTUyIDAgMSAuNDQ4IDEgMXMtLjQ0OCAxLTEgMWgtMTUuMTAxYy0uMjQ3LTEuMjEzLS45NDYtMi4yNTMtMS44OTktMi45NzR2LTMuMDI2aDh2MWMwIDEuNjU0IDEuMzQ2IDMgMyAzeiIvPjxwYXRoIGQ9Im01NyA0MmgydjJoLTJ6Ii8+PHBhdGggZD0ibTUzIDQyaDJ2MmgtMnoiLz48cGF0aCBkPSJtNDkgNDJoMnYyaC0yeiIvPjxwYXRoIGQ9Im00MiA4aDJ2MmgtMnoiLz48cGF0aCBkPSJtNDYgOGg4djJoLTh6Ii8+PHBhdGggZD0ibTQyIDEyaDJ2MmgtMnoiLz48cGF0aCBkPSJtNDYgMTJoOHYyaC04eiIvPjxwYXRoIGQ9Im00MiAxNmgydjJoLTJ6Ii8+PHBhdGggZD0ibTQ2IDE2aDh2MmgtOHoiLz48cGF0aCBkPSJtMzYgMjhoLTEwdjhoMTB6bS0yIDZoLTZ2LTRoNnoiLz48cGF0aCBkPSJtMjYgMjRoMTB2MmgtMTB6Ii8+PHBhdGggZD0ibTI2IDIwaDEwdjJoLTEweiIvPjxwYXRoIGQ9Im0yNiAxNmgxMHYyaC0xMHoiLz48cGF0aCBkPSJtMzggMzRoMnYyaC0yeiIvPjxwYXRoIGQ9Im00MiAzNGgxN3YyaC0xN3oiLz48cGF0aCBkPSJtMzggMzBoMjF2MmgtMjF6Ii8+PHBhdGggZD0ibTM4IDI2aDIxdjJoLTIxeiIvPjwvZz48L2c+PC9zdmc+"},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"20574fd8-f7f1-467b-9d70-952ee59d7c44","type":"basic.input","data":{"name":"Inp"},"position":{"x":247.03196347031962,"y":392.2374429223744}},{"id":"4f6f96a7-d3f0-4ff0-a774-66e8446591b9","type":"basic.input","data":{"name":"Enable"},"position":{"x":244.29223744292233,"y":565.7534246575341}},{"id":"0006-8b66c942-a67f-4e25-9bff-8691946542f9","type":"basic.constant","data":{"name":"Kp","value":"1.0","local":true},"position":{"x":648.8584474885844,"y":38.812785388127864}},{"id":"0007-a77006de-d45e-4ab4-9224-34c6442cb813","type":"basic.constant","data":{"name":"Ki","value":"1.0","local":true},"position":{"x":782.1917808219176,"y":37.899543378995446}},{"id":"0008-4b940e9d-8a37-42eb-82ed-46d202014e70","type":"basic.constant","data":{"name":"Kd","value":"1.0","local":true},"position":{"x":915.525114155251,"y":38.812785388127864}},{"id":"0009-8c4ee038-6a3f-4539-babc-12cacbe4bc46","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":509.13242009132415,"y":37.899543378995446}},{"id":"7cc1c50e-213e-4fe5-ad52-88971607096d","type":"basic.output","data":{"name":"Out"},"position":{"x":1271.6894977168947,"y":488.12785388127844}},{"id":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","type":"basic.code","data":{"code":"import numpy as np\nimport math\nfrom time import sleep\n\ndef main(inputs, outputs, parameters, synchronise):\n\n    auto_enable = True\n    try:\n        enable = inputs.read_number(\"Enable\")\n    except Exception:\n        auto_enable = True\n\n    kp = float(parameters.read_string(\"Kp\"))\n    ki = float(parameters.read_string(\"Ki\"))\n    kd = float(parameters.read_string(\"Kd\"))\n\n    previousError, I = 0, 0\n\n    msg = inputs.read_number(\"Inp\")\n\n    while(auto_enable or inputs.read_number('Enable')):\n        if msg is None:\n            continue\n\n        error = float(msg)\n        sleep(0.01)\n\n        P = error\n        I = I + error\n        D = error - previousError\n        PIDvalue = (kp*P) + (ki*I) + (kd*D)\n        previousError = error\n\n        linear_velocity = 5.0\n        angular_velocity = -PIDvalue\n\n        data = [linear_velocity, angular_velocity]\n        # print(data)\n        outputs.share_array(\"Out\", data)\n        synchronise()","frequency":"30","params":[{"name":"Frequency"},{"name":"Kp"},{"name":"Ki"},{"name":"Kd"}],"ports":{"in":[{"name":"Inp"},{"name":"Enable"}],"out":[{"name":"Out"}]},"size":{"width":"757px","height":"504px"}},"position":{"x":431.50684931506845,"y":184.0182648401826}}],"wires":[{"source":{"block":"20574fd8-f7f1-467b-9d70-952ee59d7c44","port":"input-out","name":"Inp"},"target":{"block":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","port":"Inp","name":"Inp"}},{"source":{"block":"4f6f96a7-d3f0-4ff0-a774-66e8446591b9","port":"input-out","name":"Enable"},"target":{"block":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","port":"Enable","name":"Enable"}},{"source":{"block":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","port":"Out","name":"Out"},"target":{"block":"7cc1c50e-213e-4fe5-ad52-88971607096d","port":"output-in","name":"output-in"}},{"source":{"block":"0009-8c4ee038-6a3f-4539-babc-12cacbe4bc46","port":"constant-out","name":"Frequency"},"target":{"block":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","port":"Frequency","name":"Frequency"}},{"source":{"block":"0006-8b66c942-a67f-4e25-9bff-8691946542f9","port":"constant-out","name":"Kp"},"target":{"block":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","port":"Kp","name":"Kp"}},{"source":{"block":"0007-a77006de-d45e-4ab4-9224-34c6442cb813","port":"constant-out","name":"Ki"},"target":{"block":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","port":"Ki","name":"Ki"}},{"source":{"block":"0008-4b940e9d-8a37-42eb-82ed-46d202014e70","port":"constant-out","name":"Kd"},"target":{"block":"4dd01f4b-e079-41da-8c38-09aed86f5cd8","port":"Kd","name":"Kd"}}]}},"dependencies":{}}